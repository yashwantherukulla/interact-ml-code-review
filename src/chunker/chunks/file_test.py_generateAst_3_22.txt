def generateAst(filePath, language):
    lang = get_language(language)
    if lang is None:
        return None
    
    parser = get_parser(language)

    try:
        with open(filePath, 'r', encoding='utf-8') as file:
            content = file.read()
    except IOError as e:
        print(f"Error reading file: {e}")
        return None

    try:
        tree = parser.parse(bytes(content, 'utf-8'))
        return tree
    except Exception as e:
        print(f"Error parsing file: {e}")
        return None